// Config
$number-of-tile: 11; // Default board is 11x11
$tile-size: 40px;

// Triple word tiles
$mt-color-gradiant-up: #c97618;
$mt-color-gradiant-down: #e79f44;

// Double word tiles
$md-color-gradiant-up: #8d312b;
$md-color-gradiant-down: #c96057;

// Triple letter tiles
$lt-color-gradiant-up: #42722f;
$lt-color-gradiant-down: #7bb460;

// Double letter tiles
$ld-color-gradiant-up: #085b9d;
$ld-color-gradiant-down: #138dd0;

// Center tile
$ct-color-gradiant-up: #392b44;
$ct-color-gradiant-down: #745b88;

// Tile filled with a letter
$filled-color-gradiant-up: #f3d262;
$filled-color-gradiant-down: #f0b73b;

// Default tile
$tile-color-gradiant-up: #8fa0b3;
$tile-color-gradiant-down: #e6ebef;

// Header tile
$header-color-gradiant-left: #0676c2;
$header-color-gradiant-right: #004279;

// Border between tiles
$tile-border-color: #d5dfea;
$tile-border-width: 2px;

// Font & text
$tile-font: bold 70%/1.5 "Helvetica Neue", sans-serif;
$decal-font-color: rgba(0, 0, 0, .6);
$font-family-base: "Helvetica Neue", Helvetica, Arial, sans-serif;
$color-subtitle: #c5cbd1;

// Page & Board
$bg-color: #fff;
$board-color: #d5dfea;
$board-border-color: black;

// Calculated values
$board-border-width: round(($tile-size * $number-of-tile)/80);
$row-height: $tile-size + $tile-border-width * 2;
$board-size: ($tile-size * $number-of-tile) + $tile-border-width * ($number-of-tile * 2 + 1);

@mixin coloredSquare($size, $color) {
  width: $size;
  height: $size;
  background-color: $color;
}

@mixin gradiantSquare($size, $color-gradiant-up, $color-gradiant-down) {
  width: $size;
  height: $size;
  background: linear-gradient($color-gradiant-up, 15%, $color-gradiant-down, 95%, $color-gradiant-up);
}

* {
  margin: 0;
  padding: 0;
  border: none;
  position: relative;
  -webkit-box-sizing: content-box;
  -moz-box-sizing: content-box;
  box-sizing: content-box;
}

*:before,
*:after {
  margin: 0;
  padding: 0;
  border: none;
  position: relative;
  -webkit-box-sizing: content-box;
  -moz-box-sizing: content-box;
  box-sizing: content-box;
}

body {
  height: 100vh;
  background: $bg-color;
  font-family: $font-family-base;
}

.header {
  min-height: 180px;
  background: linear-gradient(to right, $header-color-gradiant-left, 80%, $header-color-gradiant-right);

  .logo-right {
    background: url(../assets/logo-right.png) center 0 no-repeat;
    background-size: 40%;
    width: 676px;
    height: 298px;
    overflow: hidden;
    position: absolute;
    transform: rotate(20deg);
    top: 20px;
    left: 100%;
    margin: 0 auto 0 -45%;
  }

  .scrabble-solver {
    text-align: center;

    h1 {
      margin-top: 0;
      font-weight: 900;
      font-size: 70px;
      padding-top: 20px;
      color: #FFF;
    }

    small {
      font-weight: 700;
      font-size: 22px;
      line-height: 45px;
      color: $color-subtitle;
    }
  }
}

#scrabble-board:before {
  content: "";
  position: absolute;
  top: -10px;
  bottom: -10px;
  left: -10px;
  right: -10px;
  z-index: -1;
  background: repeating-linear-gradient(45deg, $header-color-gradiant-left 0px, $header-color-gradiant-left 20px, #2666ae 20px, #2666ae 40px);
}

#scrabble-board {
  @include coloredSquare($board-size, $board-color);
  min-width: $board-size;
  min-height: $board-size;

  .board {
    .row {
      height: $row-height;
      margin: 0;
      padding: 0;

      .tile {
        margin: 0;
        padding: 0;
        @include gradiantSquare($tile-size, $tile-color-gradiant-up, $tile-color-gradiant-down);
        box-shadow: inset 2px 2px 2px $tile-color-gradiant-up;
        border: solid $tile-border-color $tile-border-width;
        display: inline-block;
        font: $tile-font;
        color: $decal-font-color;
        border-radius: $tile-size * 20 / 100;

        &::after {
          @include coloredSquare(33%, transparent);
          content: attr(data-value);
          position: absolute;
          bottom: 2px;
          right: 3px;
          font-size: 70%;
          line-height: 140%;
          text-align: right;
          z-index: 999;
        }

        &.tile-ct {
          background: linear-gradient($ct-color-gradiant-up, 15%, $ct-color-gradiant-down, 95%, $ct-color-gradiant-up);

          .decal::before {
            content: '\2605';
            font-size: 150%;
          }
        }

        &.tile-ld, &.tile-md, &.tile-mt, &.tile-lt {
          .decal {
            &::before, &::after {
              content: '';
              position: absolute;
              top: -$tile-border-width * 2;
              height: calc(100% + #{$tile-border-width} * 4);
              z-index: 999;
              transform: scaleX(0.7);
            }

            &::after {
              transform: scaleY(0.7) rotate(90deg);
            }
          }
        }

        &.tile-ld {
          box-shadow: inset 2px 2px 2px $ld-color-gradiant-up;
          background: linear-gradient($ld-color-gradiant-up, 15%, $ld-color-gradiant-down, 95%, $ld-color-gradiant-up);
        }

        &.tile-md {
          box-shadow: inset 2px 2px 2px $md-color-gradiant-up;
          background: linear-gradient($md-color-gradiant-up, 15%, $md-color-gradiant-down, 95%, $md-color-gradiant-up);
        }

        &.tile-mt {
          box-shadow: inset 2px 2px 2px $mt-color-gradiant-up;
          background: linear-gradient($mt-color-gradiant-up, 15%, $mt-color-gradiant-down, 95%, $mt-color-gradiant-up);
        }

        &.tile-lt {
          box-shadow: inset 2px 2px 2px $lt-color-gradiant-up;
          background: linear-gradient($lt-color-gradiant-up, 15%, $lt-color-gradiant-down, 95%, $lt-color-gradiant-up);
        }

        .decal {
          @include coloredSquare(100%, transparent);
          position: absolute;
          text-align: center;
          line-height: $tile-size;
          text-transform: uppercase;
          border-radius: 12%;
          overflow: visible;
          cursor: pointer;
          font-size: 135%;
          font-weight: bold;
        }

        input {
          @extend .decal;
          font-size: 190%;
          text-align: center;
          z-index: 999;
          color: transparent;
          top: 0;
          left: 0;

          &:focus {
            background: repeating-linear-gradient(45deg, rgba(0, 0, 0, .1), rgba(0, 0, 0, .1) 10px, rgba(0, 0, 0, 0) 10px, rgba(0, 0, 0, 0) 20px);
          }

          &.filled {
            box-shadow: inset 2px 2px 2px #ee972c;
            background: linear-gradient($filled-color-gradiant-up, 20%, $filled-color-gradiant-down);
            text-shadow: 0px -1px 0px $decal-font-color;
          }
        }
      }
    }
  }
}