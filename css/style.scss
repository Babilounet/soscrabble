// Config
$number-of-tile: 11; // Default board is 11x11
$tile-size: 50px;

// Triple word tiles
$mt-color-gradiant-up: #c97618;
$mt-color-gradiant-down: #e79f44;

// Double word tiles
$md-color-gradiant-up: #8d312b;
$md-color-gradiant-down: #c96057;

// Triple letter tiles
$lt-color-gradiant-up: #42722f;
$lt-color-gradiant-down: #7bb460;

// Double letter tiles
$ld-color-gradiant-up: #085b9d;
$ld-color-gradiant-down: #138dd0;

// Center tile
$ct-color-gradiant-up: #392b44;
$ct-color-gradiant-down: #745b88;

// Tile filled with a letter
$filled-color-gradiant-up: #f3d262;
$filled-color-gradiant-down: #f0b73b;

// Default tile
$tile-color-gradiant-up: #8fa0b3;
$tile-color-gradiant-down: #e6ebef;

// Header tile
$header-color-gradiant-left: #0676c2;
$header-color-gradiant-right: #004279;

// Border between tiles
$tile-border-color: #d5dfea;
$tile-border-width: 2px;

// Font & text
$tile-font: bold 70%/1.5 "Helvetica Neue", sans-serif;
$decal-font-color: rgba(0, 0, 0, .6);
$font-family-base: "Helvetica Neue", Helvetica, Arial, sans-serif;
$color-subtitle: #c5cbd1;

// Page & Board
$bg-color: #fff;
$board-color: #d5dfea;
$board-border-color: black;

// Calculated values
$board-border-width: round(($tile-size * $number-of-tile)/80);
$row-height: $tile-size + $tile-border-width * 2;
$final-tile-size-with-border: $tile-size + $tile-border-width * 2;
$board-size: $final-tile-size-with-border * $number-of-tile;

// Rack
$rack-tile-size: 78px;
$rack-tile-border-width: 2px;
$final-rack-tile-size-with-border: $rack-tile-size + $rack-tile-border-width * 2;

@mixin coloredSquare($size, $color) {
  width: $size;
  height: $size;
  background-color: $color;
}

@mixin gradiantSquare($size, $color-gradiant-up, $color-gradiant-down) {
  width: $size;
  height: $size;
  background: linear-gradient($color-gradiant-up, 15%, $color-gradiant-down, 95%, $color-gradiant-up);
}

* {
  margin: 0;
  padding: 0;
  border: none;
  position: relative;
}


body {
  background: linear-gradient(to right, $header-color-gradiant-left, 80%, $header-color-gradiant-right);
  height: 100%;
  font-family: $font-family-base;

  .header {
    width: 100%;
    min-height: 180px;
    background: linear-gradient(to right, $header-color-gradiant-left, 80%, $header-color-gradiant-right);
    overflow: hidden;
    padding-bottom: 50px;
    margin-bottom: -30px;

    .logo-right {
      position: absolute;
      left: 100%;
      top: 30px;
      width: 75%;
      transform: rotate(20deg);
      margin: 0 auto 0 -90%;
    }

    .logo-left {
      position: absolute;
      left: 0;
      top: 30px;
      width: 75%;
      transform: rotate(-10deg);
      margin: 0 auto 0 20%;
    }

    .scrabble-solver {
      text-align: center;

      h1 {
        margin-top: 0;
        font-weight: 900;
        font-size: 70px;
        padding-top: 20px;
        color: #FFF;
      }

      small {
        font-weight: 700;
        font-size: 22px;
        line-height: 45px;
        color: $color-subtitle;
      }
    }
  }

  .container {
    background-color: #fff;

    h3 {
      margin-bottom: 30px;
    }

    #scrabble-board:before {
      content: "";
      position: absolute;
      top: -20px;
      bottom: -20px;
      left: -20px;
      right: -20px;
      z-index: 0;
      background: repeating-linear-gradient(45deg, $header-color-gradiant-left 0px, $header-color-gradiant-left 20px, #2666ae 20px, #2666ae 40px);
    }

    #scrabble-board {
      @include coloredSquare($board-size, $board-color);
      width: $board-size;
      height: $board-size;
      margin: auto;

      .scrabble-board {
        background-color: $board-color;

        .scrabble-row {
          height: $row-height;

          .scrabble-tile {
            @include gradiantSquare($final-tile-size-with-border, $tile-color-gradiant-up, $tile-color-gradiant-down);
            box-shadow: inset 2px 2px 2px $tile-color-gradiant-up;
            border: solid $tile-border-color $tile-border-width;
            display: inline-block;
            font: $tile-font;
            color: $decal-font-color;
            border-radius: $tile-size * 20 / 100;

            &::after {
              @include coloredSquare(33%, transparent);
              content: attr(data-value);
              position: absolute;
              bottom: 2px;
              right: 3px;
              font-size: 70%;
              line-height: 140%;
              text-align: right;
              z-index: 999;
            }

            &.scrabble-tile-ct {
              background: linear-gradient($ct-color-gradiant-up, 15%, $ct-color-gradiant-down, 95%, $ct-color-gradiant-up);

              .scrabble-decal::before {
                content: '\2605';
                font-size: 150%;
              }
            }

            &.scrabble-tile-ld, &.scrabble-tile-md, &.scrabble-tile-mt, &.scrabble-tile-lt {
              .scrabble-decal {
                &::before, &::after {
                  content: '';
                  position: absolute;
                  top: -$tile-border-width * 2;
                  height: calc(100% + #{$tile-border-width} * 4);
                  z-index: 999;
                  transform: scaleX(0.7);
                }

                &::after {
                  transform: scaleY(0.7) rotate(90deg);
                }
              }
            }

            &.scrabble-tile-ld {
              box-shadow: inset 2px 2px 2px $ld-color-gradiant-up;
              background: linear-gradient($ld-color-gradiant-up, 15%, $ld-color-gradiant-down, 95%, $ld-color-gradiant-up);
            }

            &.scrabble-tile-md {
              box-shadow: inset 2px 2px 2px $md-color-gradiant-up;
              background: linear-gradient($md-color-gradiant-up, 15%, $md-color-gradiant-down, 95%, $md-color-gradiant-up);
            }

            &.scrabble-tile-mt {
              box-shadow: inset 2px 2px 2px $mt-color-gradiant-up;
              background: linear-gradient($mt-color-gradiant-up, 15%, $mt-color-gradiant-down, 95%, $mt-color-gradiant-up);
            }

            &.scrabble-tile-lt {
              box-shadow: inset 2px 2px 2px $lt-color-gradiant-up;
              background: linear-gradient($lt-color-gradiant-up, 15%, $lt-color-gradiant-down, 95%, $lt-color-gradiant-up);
            }

            .scrabble-decal {
              @include coloredSquare(100%, transparent);
              position: absolute;
              text-align: center;
              line-height: $tile-size;
              text-transform: uppercase;
              border-radius: 12%;
              overflow: visible;
              cursor: pointer;
              font-size: 135%;
              font-weight: bold;
            }

            input {
              @extend .scrabble-decal;
              font-size: 190%;
              text-align: center;
              z-index: 999;
              color: transparent;
              top: 0;
              left: 0;

              &:focus {
                background: repeating-linear-gradient(45deg, rgba(0, 0, 0, .1), rgba(0, 0, 0, .1) 10px, rgba(0, 0, 0, 0) 10px, rgba(0, 0, 0, 0) 20px);
              }

              &.scrabble-filled {
                box-shadow: inset 2px 2px 2px #ee972c;
                background: linear-gradient($filled-color-gradiant-up, 20%, $filled-color-gradiant-down);
                text-shadow: 0px -1px 0px $decal-font-color;
              }
            }
          }
        }
      }
    }

    #scrabble-rack:before {
      content: "";
      position: absolute;
      top: -20px;
      bottom: -20px;
      left: -20px;
      right: -20px;
      background: repeating-linear-gradient(45deg, $header-color-gradiant-left 0px, $header-color-gradiant-left 20px, #2666ae 20px, #2666ae 40px);
    }

    #scrabble-rack {
      @include coloredSquare($board-size, $board-color);
      width: $board-size;
      height: $final-rack-tile-size-with-border;
      margin: 30px auto 50px auto;
      text-align: center;

      .scrabble-tile {
        @include gradiantSquare($final-rack-tile-size-with-border, $tile-color-gradiant-up, $tile-color-gradiant-down);
        box-shadow: inset 2px 2px 2px $tile-color-gradiant-up;
        display: inline-block;
        font: $tile-font;
        color: $decal-font-color;
        border-radius: $rack-tile-size * 20 / 100;
        margin-left: 1px;
        margin-right: 1px;

        &::after {
          @include coloredSquare(33%, transparent);
          content: attr(data-value);
          position: absolute;
          bottom: 0;
          right: 10px;
          line-height: 140%;
          text-align: right;
          z-index: 999;
        }

        .scrabble-decal {
          @include coloredSquare(100%, transparent);
          position: absolute;
          text-align: center;
          line-height: $rack-tile-size;
          text-transform: uppercase;
          border-radius: 12%;
          overflow: visible;
          cursor: pointer;
          font-size: 135%;
          font-weight: bold;
        }

        input {
          @extend .scrabble-decal;
          font-size: 250%;
          text-align: center;
          z-index: 999;
          color: transparent;
          top: 0;
          left: 0;

          &:focus {
            background: repeating-linear-gradient(45deg, rgba(0, 0, 0, .1), rgba(0, 0, 0, .1) 10px, rgba(0, 0, 0, 0) 10px, rgba(0, 0, 0, 0) 20px);
          }

          &.scrabble-filled {
            box-shadow: inset 2px 2px 2px #ee972c;
            background: linear-gradient($filled-color-gradiant-up, 20%, $filled-color-gradiant-down);
            text-shadow: 0px -1px 0px $decal-font-color;
          }
        }
      }
    }
  }

  .arrow {
    position: absolute;
    width: 50%;
    top: 50px;
    left: 0;
    @media screen and (max-width: 990px) {
      display: none;
    }
  }

  .button-row {
    padding-bottom: 75px;

    .btn-warning {
      color: $decal-font-color;
      font-weight: 700;
      font-size: 22px;
      box-shadow: inset 2px 2px 2px $mt-color-gradiant-up;
      background: linear-gradient($mt-color-gradiant-up, 15%, $mt-color-gradiant-down, 95%, $mt-color-gradiant-up);
    }

    .btn-primary {
      color: $decal-font-color;
      font-weight: 700;
      font-size: 22px;
      box-shadow: inset 2px 2px 2px $lt-color-gradiant-up;
      background: linear-gradient($lt-color-gradiant-up, 15%, $lt-color-gradiant-down, 95%, $lt-color-gradiant-up);
    }
  }

}

